---
title: 【数据库】常用sql命令
date: 2022-10-11
categories:
  - 知识库
tags:
  - 数据库
sidebar: auto
---

### 1.SQL的主要命令

| SQL功能  | 动词                 |
| -------- | -------------------- |
| 数据查询 | select               |
| 数据定义 | create,drop,alter    |
| 数据操纵 | insert,update,delete |

### 2.创建表

```sql
CREATE TABLE SC (
	Sno CHAR ( 9 ),
	Cno CHAR ( 4 ),
	Grade SMALLINT， PRIMARY KEY ( Sno, Cno ),
/* 主码由两个属性构成，必须作为表级完整性进行定义*/
	FOREIGN KEY ( Sno ) REFERENCES Student ( Sno ),
/* 表级完整性约束条件，Sno是外码，被参照表是Student */
	FOREIGN KEY ( Cno ) REFERENCES Course ( Cno ) /* 表级完整性约束条件， Cno是外码，被参照表是Course*/
);
```

### 3.删除表（删库跑路）

```sql
DROP TABLE Course;
```

### 4.修改表

```sql
ALTER TABLE < tablename > ADD < COLUMN > VARCHAR ( 20 ) AFTER < COLUMN >;
```

### 5.插入数据

```sql
INSERT INTO < tablename >(字段 1,字段 2,......)
VALUES
	(字段 1的值,字段 2的值,......),
	(字段 1的值,字段 2的值,......),
	(字段 1的值,字段 2的值,......); 
```

> 实例
>
> ```sql
> INSERT INTO stuinfo ( stuid, stuname, gender, birthdate, age, city )
> VALUES
> 	( 20161002, 'Wangwu', '女', '1991/1/3', 19, 'Beijing' ),
> 	( 20161003, 'Lisi', '男', '1990/11/4', 21, 'Shanghai' );
> ```

### 6.删除数据

```sql
DELETE FROM < tablename > WHERE 字段名 =某个值;
```

> 实例
>
> ```sql
> DELETE FROM stuinfo WHERE stuid = 20161002;
> ```

### 7.修改数据

```sql
UPDATE < tablename > 
SET 字段 1 =某个值 
WHERE
	字段 2 =某个值;
```

> 实例
>
> ```sql
> UPDATE stuinfo 
> SET stuname = 'Jack' 
> WHERE
> 	stuid = 20161001;
> ```

### 8.查询数据

```sql
SELECT [ALL|DISTINCT] <目标列表达式>[,<目标列表达式>] …
       FROM <表名或视图名>[,<表名或视图名> ]…|(SELECT 语句)      
                   [AS]<别名>
[ WHERE <条件表达式> ]
[ GROUP BY <列名1> [ HAVING <条件表达式> ] ]
[ ORDER BY <列名2> [ ASC|DESC ] ];
```

#### 8.1单表查询

```sql
# 判断
 SELECT Sname,Sage
 FROM Student 
 WHERE Sage < 20;
 
# 年龄段之间
 SELECT Sname,Sage
 FROM Student 
 WHERE Sage NOT BETWEEN 20 AND 23;
 
# 查询
 SELECT Sname
 FROM Student
 WHERE Sname LIKE '汪__';
 
# 排序
 SELECT *
 FROM Student
 ORDER BY Sdept, Sage DESC;
 
# 分组查询
 SELECT Cno҅COUNT(Sno)
 FROM SC
 GROUP BY Cno;
```

#### 8.2多表查询

```sql
 SELECT Student.Sno, Sname
 FROM Student, SC
 WHERE Student.Sno=SC.Sno /* 连接条件 */
 AND SC.Cno=‘ 2 ’ AND SC.Grade>90; /* 选择条件 */
 
 
# 嵌套查询
SELECT
	Sno,
	Sname,
	Sdept 
FROM
	Student
 WHERE Sdept IN
 (SELECT Sdept
 FROM Student
 WHERE Sname= '小汪');
```